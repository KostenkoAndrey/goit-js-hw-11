{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["`use strict`\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst form = document.querySelector(\".form\");\nconst API_KEY = \"46815109-801c3b1dec2424a02adace61a\";\n\n\nform.addEventListener(\"submit\", hundleSearch);\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst container = document.querySelector(\".loader\")\n\nfunction hundleSearch (event){\nevent.preventDefault();\nconst {button, textRow} = event.target.elements;\n\nif(textRow.value.trim() === \"\"){\n    return;\n}\n\nfetchData(textRow.value)\n.then(data => {\n     console.log(\"data:\", data);\n    container.innerHTML = (createMarkup(data.hits));\n})\n.catch(error => console.log(error));\n\n    form.reset();\n};\n\n\nfunction fetchData(textRow){\n    const params = new URLSearchParams ({\n        key: API_KEY,\n        q: textRow,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n    });\n\n    return fetch(`${BASE_URL}?${params}`)\n    .then(response => {\n        if(!response.ok) {\n           throw new Error;\n        }\n        return response.json();\n    });  \n};\n\n\nfunction createMarkup(array){\nreturn array.map(( { webformatURL: smallPic, largeImageURL: largePic, tags: alt, likes = 0, views = 0, comments = \"\", downloads = 0 } ) => \n      `<div class=\"gallery\">\n    <a href=\"${largePic}\"><img src=\"${smallPic}\" alt=\"${alt}\"/></a>\n    <div><p>Likes</p>\n    <span>${likes}</span></div>\n    <div><p>Views</p>\n    <span>${views}</span></div>\n    <div><p>Comments</p>\n    <span>${comments}</span></div>\n    <div><p>Downloads</p>\n    <span>${downloads}</span></div>\n</div>`\n)\n.join(\"\");\n}\n\n"],"names":["form","API_KEY","hundleSearch","BASE_URL","container","event","button","textRow","fetchData","data","createMarkup","error","params","response","array","smallPic","largePic","alt","likes","views","comments","downloads"],"mappings":"0uBAOA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,qCAGhBD,EAAK,iBAAiB,SAAUE,CAAY,EAC5C,MAAMC,EAAW,2BACXC,EAAY,SAAS,cAAc,SAAS,EAElD,SAASF,EAAcG,EAAM,CAC7BA,EAAM,eAAc,EACpB,KAAM,CAAC,OAAAC,EAAQ,QAAAC,CAAO,EAAIF,EAAM,OAAO,SAEpCE,EAAQ,MAAM,KAAM,IAAK,KAI5BC,EAAUD,EAAQ,KAAK,EACtB,KAAKE,GAAQ,CACT,QAAQ,IAAI,QAASA,CAAI,EAC1BL,EAAU,UAAaM,EAAaD,EAAK,IAAI,CACjD,CAAC,EACA,MAAME,GAAS,QAAQ,IAAIA,CAAK,CAAC,EAE9BX,EAAK,MAAK,EACd,CAGA,SAASQ,EAAUD,EAAQ,CACvB,MAAMK,EAAS,IAAI,gBAAiB,CAChC,IAAKX,EACL,EAAGM,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAED,OAAO,MAAM,GAAGJ,CAAQ,IAAIS,CAAM,EAAE,EACnC,KAAKC,GAAY,CACd,GAAG,CAACA,EAAS,GACV,MAAM,IAAI,MAEb,OAAOA,EAAS,MACxB,CAAK,CACL,CAGA,SAASH,EAAaI,EAAM,CAC5B,OAAOA,EAAM,IAAI,CAAE,CAAE,aAAcC,EAAU,cAAeC,EAAU,KAAMC,EAAK,MAAAC,EAAQ,EAAG,MAAAC,EAAQ,EAAG,SAAAC,EAAW,GAAI,UAAAC,EAAY,CAAG,IAC/H;AAAA,eACSL,CAAQ,eAAeD,CAAQ,UAAUE,CAAG;AAAA;AAAA,YAE/CC,CAAK;AAAA;AAAA,YAELC,CAAK;AAAA;AAAA,YAELC,CAAQ;AAAA;AAAA,YAERC,CAAS;AAAA,OAErB,EACC,KAAK,EAAE,CACR"}